<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ë°°ë“œ ì—”ë”© - ì‹¤í—˜ì²´ì˜ ìš´ëª…</title>
  <link rel="stylesheet" href="../style.css" />
  <script src="../inventory.js"></script>
  <script src="../journal.js"></script>
</head>
<body>
  <div class="game-layout">
    <!-- ì™¼ìª½ ê²Œì„ ì˜ì—­ -->
    <div class="game-area">
      <!-- ê·¸ë¦¼ ì˜ì—­ -->
      <div class="image-area">
        <img src="../IMG/ë°°ë“œì—”ë”©.png" alt="ë°°ë“œ ì—”ë”©" style="width: 100%; height: 100%; object-fit: cover; border-radius: 10px;">
      </div>

      <!-- ê²Œì„ ì»¨í…Œì´ë„ˆ -->
      <div id="game-container">
        <div id="scene-text">
          ë‹¹ì‹ ì€ ê¸°ì–µì„ ê±°ë¶€í•˜ê³  ì‹¤í—˜ì²´ë¡œ ë‚¨ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ëŠ” ì‹¤í—˜ìë“¤ì˜ ê³„íšì´ì—ˆìŠµë‹ˆë‹¤.
        </div>

        <div class="ending-content">
          <div class="ending-text">
            <h2 style="color: #ff6b6b; margin-bottom: 20px;">ğŸ˜” ì‹¤í—˜ì²´ì˜ ìš´ëª…</h2>
            <p style="color: #e8f4fd; line-height: 1.8; margin-bottom: 20px;">
              ê¸°ì–µì„ ê±°ë¶€í•œ ë‹¹ì‹ ì€ ì‹¤í—˜ìë“¤ì—ê²Œ ì™„ë²½í•œ ì‹¤í—˜ì²´ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤. 
              ë¬´ì§€í•œ ìƒíƒœë¡œ ê·¸ë“¤ì˜ ëª¨ë“  ì‹¤í—˜ì— ìˆœìˆœíˆ ì‘í•˜ê²Œ ë˜ì—ˆê³ , 
              ê²°êµ­ ë” ì´ìƒ í•„ìš”í•˜ì§€ ì•Šë‹¤ëŠ” íŒë‹¨ í•˜ì— 'ì œê±°'ë˜ì—ˆìŠµë‹ˆë‹¤.
            </p>
            <p style="color: #e8f4fd; line-height: 1.8; margin-bottom: 20px;">
              ì‹¤í—˜ìë“¤ì€ ë‹¹ì‹ ì˜ ê¸°ì–µì„ ì¡°ì‘í•˜ì—¬ ì™„ë²½í•œ í”¼ì‹¤í—˜ì²´ë¥¼ ë§Œë“¤ì—ˆê³ , 
              ë‹¹ì‹ ì€ ìì‹ ì´ ëˆ„êµ¬ì¸ì§€, ë¬´ì—‡ì„ ê²ªì—ˆëŠ”ì§€ ì „í˜€ ëª¨ë¥¸ ì±„ 
              ì‹¤í—˜ì˜ ë§ˆì§€ë§‰ ìˆœê°„ê¹Œì§€ ê³ í†µë°›ì•˜ìŠµë‹ˆë‹¤.
            </p>
            <p style="color: #ff6b6b; font-weight: 600; font-size: 18px;">
              "ê¸°ì–µì„ ê±°ë¶€í•˜ëŠ” ê²ƒì€ ë•Œë¡œëŠ” ë” í° ê³ í†µì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤."
            </p>
          </div>

          <div class="ending-actions">
            <button onclick="restartGame()" class="game-button primary">
              <span class="button-icon">ğŸ”„</span>
              <span class="button-text">ê²Œì„ ë‹¤ì‹œ ì‹œì‘</span>
            </button>
            <button onclick="goToMain()" class="game-button secondary">
              <span class="button-icon">ğŸ </span>
              <span class="button-text">ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°</span>
            </button>
          </div>
        </div>

        <div id="message" class="message-display"></div>
      </div>
    </div>

    <!-- ì˜¤ë¥¸ìª½ ì‚¬ì´ë“œë°” -->
    <div class="sidebar">
      <!-- ì¸ë²¤í† ë¦¬ì™€ ì¼ì§€ê°€ ì—¬ê¸°ì— ìë™ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
    </div>
  </div>

  <style>
    .ending-content {
      background: linear-gradient(145deg, rgba(26, 26, 46, 0.9) 0%, rgba(22, 33, 62, 0.9) 100%);
      border: 2px solid rgba(255, 107, 107, 0.4);
      border-radius: 20px;
      padding: 30px;
      margin: 20px 0;
      backdrop-filter: blur(15px);
    }

    .ending-text {
      text-align: center;
      margin-bottom: 30px;
    }

    .ending-actions {
      display: flex;
      gap: 20px;
      justify-content: center;
      flex-wrap: wrap;
    }

    .game-button {
      display: flex;
      align-items: center;
      gap: 12px;
      background: linear-gradient(135deg, rgba(74, 158, 255, 0.2) 0%, rgba(41, 128, 185, 0.2) 100%);
      border: 2px solid rgba(74, 158, 255, 0.4);
      border-radius: 12px;
      padding: 16px 24px;
      color: #e8f4fd;
      cursor: pointer;
      font-size: 16px;
      font-weight: 600;
      transition: all 0.3s ease;
      min-width: 180px;
      justify-content: center;
    }

    .game-button:hover {
      background: linear-gradient(135deg, rgba(74, 158, 255, 0.3) 0%, rgba(41, 128, 185, 0.3) 100%);
      border-color: rgba(74, 158, 255, 0.6);
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(74, 158, 255, 0.3);
    }

    .game-button.primary {
      background: linear-gradient(135deg, #4a9eff 0%, #2980b9 100%);
      border-color: #4a9eff;
      color: white;
    }

    .game-button.primary:hover {
      background: linear-gradient(135deg, #5ba9ff 0%, #3a90ca 100%);
      transform: translateY(-2px);
      box-shadow: 0 5px 20px rgba(74, 158, 255, 0.4);
    }

    .game-button.secondary {
      background: linear-gradient(135deg, rgba(108, 117, 125, 0.2) 0%, rgba(73, 80, 87, 0.2) 100%);
      border-color: rgba(108, 117, 125, 0.4);
    }

    .game-button.secondary:hover {
      background: linear-gradient(135deg, rgba(108, 117, 125, 0.3) 0%, rgba(73, 80, 87, 0.3) 100%);
      border-color: rgba(108, 117, 125, 0.6);
    }

    .button-icon {
      font-size: 18px;
      min-width: 24px;
    }

    .button-text {
      font-size: 16px;
    }

    .message-display {
      background: linear-gradient(135deg, rgba(74, 158, 255, 0.1) 0%, rgba(41, 128, 185, 0.1) 100%);
      border: 1px solid rgba(74, 158, 255, 0.3);
      border-radius: 15px;
      padding: 20px;
      margin: 20px 0;
      text-align: center;
      color: #4a9eff;
      font-weight: 600;
      min-height: 20px;
      backdrop-filter: blur(10px);
    }

    #scene-text {
      background: linear-gradient(135deg, rgba(255, 107, 107, 0.1) 0%, rgba(220, 53, 69, 0.1) 100%);
      border: 1px solid rgba(255, 107, 107, 0.3);
      border-radius: 15px;
      padding: 25px;
      margin: 20px 0;
      color: #e8f4fd;
      font-size: 16px;
      line-height: 1.6;
      backdrop-filter: blur(10px);
      text-align: center;
    }

    .fade-in {
      animation: fadeIn 1.5s ease-out;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>

  <script>
    function restartGame() {
      // ê²Œì„ ë°ì´í„° ì´ˆê¸°í™”
      localStorage.clear();
      
      // ë©”ì¸ í˜ì´ì§€ë¡œ ì´ë™
      window.location.href = '../rooms1/index.html';
    }

    function goToMain() {
      // ë©”ì¸ í˜ì´ì§€ë¡œ ì´ë™ (ë°ì´í„° ìœ ì§€)
      window.location.href = '../rooms1/index.html';
    }

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
    document.addEventListener('DOMContentLoaded', () => {
      // ì¼ë°˜ ì•„ì´í…œë§Œ ì´ˆê¸°í™” (ì¤‘ìš” ì•„ì´í…œì€ ìœ ì§€)
      if (window.inventory) {
        window.inventory.clearNormalInventory();
      }
      
      addJournalEntry('ë°°ë“œ ì—”ë”©ì„ ë§ì´í–ˆìŠµë‹ˆë‹¤. ê¸°ì–µì„ ê±°ë¶€í•œ ê²°ê³¼ ì‹¤í—˜ì²´ë¡œ ë‚¨ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.', 'ending');
      
      // í˜ì´ë“œì¸ íš¨ê³¼ ì ìš©
      const endingContent = document.querySelector('.ending-content');
      endingContent.classList.add('fade-in');
    });
  </script>
</body>
</html>
